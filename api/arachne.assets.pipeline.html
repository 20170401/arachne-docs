<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>arachne.assets.pipeline documentation</title><link rel="stylesheet" type="text/css" href="../api-override.css" /><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Arachne API Documentation</span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 "><a href="arachne.assets.html"><div class="inner"><span>arachne.assets</span></div></a></li><li class="depth-1 "><a href="arachne.assets.config.html"><div class="inner"><span>arachne.assets.config</span></div></a></li><li class="depth-1 "><a href="arachne.assets.dsl.html"><div class="inner"><span>arachne.assets.dsl</span></div></a></li><li class="depth-1 current"><a href="arachne.assets.pipeline.html"><div class="inner"><span>arachne.assets.pipeline</span></div></a></li><li class="depth-1 "><a href="arachne.assets.schema.html"><div class="inner"><span>arachne.assets.schema</span></div></a></li><li class="depth-1 "><a href="arachne.assets.specs.html"><div class="inner"><span>arachne.assets.specs</span></div></a></li><li class="depth-1 "><a href="arachne.assets.util.html"><div class="inner"><span>arachne.assets.util</span></div></a></li><li class="depth-1 "><a href="arachne.build.html"><div class="inner"><span>arachne.build</span></div></a></li><li class="depth-1 "><a href="arachne.core.html"><div class="inner"><span>arachne.core</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.html"><div class="inner"><span>arachne.core.config</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.impl.common.html"><div class="inner"><span>arachne.core.config.impl.common</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.impl.datascript.html"><div class="inner"><span>arachne.core.config.impl.datascript</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.impl.datomic.html"><div class="inner"><span>arachne.core.config.impl.datomic</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.impl.multiplex.html"><div class="inner"><span>arachne.core.config.impl.multiplex</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.model.html"><div class="inner"><span>arachne.core.config.model</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.model.specs.html"><div class="inner"><span>arachne.core.config.model.specs</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.script.html"><div class="inner"><span>arachne.core.config.script</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.specs.html"><div class="inner"><span>arachne.core.config.specs</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.validation.html"><div class="inner"><span>arachne.core.config.validation</span></div></a></li><li class="depth-1 "><a href="arachne.core.dsl.html"><div class="inner"><span>arachne.core.dsl</span></div></a></li><li class="depth-1 "><a href="arachne.core.module.html"><div class="inner"><span>arachne.core.module</span></div></a></li><li class="depth-1 "><a href="arachne.core.runtime.html"><div class="inner"><span>arachne.core.runtime</span></div></a></li><li class="depth-1 "><a href="arachne.core.runtime.specs.html"><div class="inner"><span>arachne.core.runtime.specs</span></div></a></li><li class="depth-1 "><a href="arachne.core.schema.html"><div class="inner"><span>arachne.core.schema</span></div></a></li><li class="depth-1 "><a href="arachne.core.util.html"><div class="inner"><span>arachne.core.util</span></div></a></li><li class="depth-1 "><a href="arachne.core.util.specs.html"><div class="inner"><span>arachne.core.util.specs</span></div></a></li><li class="depth-1 "><a href="arachne.core.validators.html"><div class="inner"><span>arachne.core.validators</span></div></a></li><li class="depth-1 "><a href="arachne.error.html"><div class="inner"><span>arachne.error</span></div></a></li><li class="depth-1 "><a href="arachne.error.format.html"><div class="inner"><span>arachne.error.format</span></div></a></li><li class="depth-1 "><a href="arachne.http.html"><div class="inner"><span>arachne.http</span></div></a></li><li class="depth-1 "><a href="arachne.http.config.html"><div class="inner"><span>arachne.http.config</span></div></a></li><li class="depth-1 "><a href="arachne.http.dsl.html"><div class="inner"><span>arachne.http.dsl</span></div></a></li><li class="depth-1 "><a href="arachne.http.dsl.test.html"><div class="inner"><span>arachne.http.dsl.test</span></div></a></li><li class="depth-1 "><a href="arachne.http.schema.html"><div class="inner"><span>arachne.http.schema</span></div></a></li><li class="depth-1 "><a href="arachne.http.validators.html"><div class="inner"><span>arachne.http.validators</span></div></a></li><li class="depth-1 "><a href="arachne.log.html"><div class="inner"><span>arachne.log</span></div></a></li><li class="depth-1 "><a href="arachne.pedestal.html"><div class="inner"><span>arachne.pedestal</span></div></a></li><li class="depth-1 "><a href="arachne.pedestal.config.html"><div class="inner"><span>arachne.pedestal.config</span></div></a></li><li class="depth-1 "><a href="arachne.pedestal.dsl.html"><div class="inner"><span>arachne.pedestal.dsl</span></div></a></li><li class="depth-1 "><a href="arachne.pedestal.routes.html"><div class="inner"><span>arachne.pedestal.routes</span></div></a></li><li class="depth-1 "><a href="arachne.pedestal.schema.html"><div class="inner"><span>arachne.pedestal.schema</span></div></a></li><li class="depth-1 "><a href="arachne.pedestal.server.html"><div class="inner"><span>arachne.pedestal.server</span></div></a></li><li class="depth-1 "><a href="arachne.pedestal.specs.html"><div class="inner"><span>arachne.pedestal.specs</span></div></a></li><li class="depth-1 "><a href="arachne.run.html"><div class="inner"><span>arachne.run</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="arachne.assets.pipeline.html#var-fs-chan-handler"><div class="inner"><span>fs-chan-handler</span></div></a></li><li class="depth-1"><a href="arachne.assets.pipeline.html#var-http-handler"><div class="inner"><span>http-handler</span></div></a></li><li class="depth-1"><a href="arachne.assets.pipeline.html#var-input-channels"><div class="inner"><span>input-channels</span></div></a></li><li class="depth-1"><a href="arachne.assets.pipeline.html#var-input-directory"><div class="inner"><span>input-directory</span></div></a></li><li class="depth-1"><a href="arachne.assets.pipeline.html#var-merge-inputs"><div class="inner"><span>merge-inputs</span></div></a></li><li class="depth-1"><a href="arachne.assets.pipeline.html#var-output-directory"><div class="inner"><span>output-directory</span></div></a></li><li class="depth-1"><a href="arachne.assets.pipeline.html#var-Producer"><div class="inner"><span>Producer</span></div></a></li><li class="depth-2"><a href="arachne.assets.pipeline.html#var--observe"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-observe</span></div></a></li><li class="depth-1"><a href="arachne.assets.pipeline.html#var-transducer"><div class="inner"><span>transducer</span></div></a></li><li class="depth-1"><a href="arachne.assets.pipeline.html#var-Transformer"><div class="inner"><span>Transformer</span></div></a></li><li class="depth-2"><a href="arachne.assets.pipeline.html#var--init"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-init</span></div></a></li><li class="depth-1"><a href="arachne.assets.pipeline.html#var-watch-dir"><div class="inner"><span>watch-dir</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">arachne.assets.pipeline</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-fs-chan-handler"><h3>fs-chan-handler</h3><div class="usage"><code>(fs-chan-handler ch root)</code></div><div class="doc"><pre class="plaintext">Given a channel upon which will be placed filesets, return a Ring handler function serving
files from the most recent fileset recieved.

Already has data from the file-info middleware, since that cannot be calculated from the
returned blob file.</pre></div></div><div class="public anchor" id="var-http-handler"><h3>http-handler</h3><div class="usage"><code>(http-handler)</code></div><div class="doc"><pre class="plaintext">Constructor for an http handler pipeline consumer
</pre></div></div><div class="public anchor" id="var-input-channels"><h3>input-channels</h3><div class="usage"><code>(input-channels component)</code></div><div class="doc"><pre class="plaintext">Given a Consumer component instance, calls `-observe` on each of the inputs and return a seq of
[&lt;chan&gt; &lt;roles&gt;] tuples for all the component's inputs.</pre></div></div><div class="public anchor" id="var-input-directory"><h3>input-directory</h3><div class="usage"><code>(input-directory entity)</code></div><div class="doc"><pre class="plaintext">Constructor for an :arachne.assets/InputDirectory component
</pre></div></div><div class="public anchor" id="var-merge-inputs"><h3>merge-inputs</h3><div class="usage"><code>(merge-inputs inputs)</code></div><div class="doc"><pre class="plaintext">Given a collection of channels that emit filesets,return a single channel upon which will be
placed the reuslt of merging *all* the inputs filesets, whenever *any* of them changes.

Generally used for components that should accept multiple inputs, but do not make a
distinction regarding which is which.

This function will block until all of the inputs have returned at least one fileset, and the
returned channel will already have one filset put on it.

The output chan will close if any of the inputs closes.</pre></div></div><div class="public anchor" id="var-output-directory"><h3>output-directory</h3><div class="usage"><code>(output-directory cfg eid)</code></div><div class="doc"><pre class="plaintext">Constructor for an :arachne.assets/OutputDirectory component
</pre></div></div><div class="public anchor" id="var-Producer"><h3>Producer</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var--observe"><h3>-observe</h3><div class="usage"><code>(-observe this)</code></div><div class="doc"><pre class="plaintext">Return a channel upon which will be placed the initial and updated FileSet values.

The returned channel will use a sliding buffer of size 1, so slow consumers of will not delay the producer.</pre></div></div></div></div></div><div class="public anchor" id="var-transducer"><h3>transducer</h3><div class="usage"><code>(transducer cfg eid)</code></div><div class="doc"><pre class="plaintext">Constructor for an :arachne.assets/Transducer component
</pre></div></div><div class="public anchor" id="var-Transformer"><h3>Transformer</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">A component that translates from multiple input channels to a single output channel.
</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var--init"><h3>-init</h3><div class="usage"><code>(-init this)</code></div><div class="doc"><pre class="plaintext">Given a fileset, return a transformed fileset.
</pre></div></div></div></div></div><div class="public anchor" id="var-watch-dir"><h3>watch-dir</h3><div class="usage"><code>(watch-dir dir)</code></div><div class="doc"><pre class="plaintext">Given a directory path, return a tuple of [terminatefn- chan]. Immediately, and then
whenever the contents of the directory change, a fileset will be placed on the channel until the
terminate function is called.</pre></div></div></div></body></html>