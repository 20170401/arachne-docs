<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>arachne.error documentation</title><link rel="stylesheet" type="text/css" href="../api-override.css" /><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Arachne API Documentation</span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 "><a href="arachne.assets.dsl.html"><div class="inner"><span>arachne.assets.dsl</span></div></a></li><li class="depth-1 "><a href="arachne.build.html"><div class="inner"><span>arachne.build</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.impl.datascript.html"><div class="inner"><span>arachne.core.config.impl.datascript</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.impl.datomic.html"><div class="inner"><span>arachne.core.config.impl.datomic</span></div></a></li><li class="depth-1 "><a href="arachne.core.config.model.html"><div class="inner"><span>arachne.core.config.model</span></div></a></li><li class="depth-1 "><a href="arachne.core.dsl.html"><div class="inner"><span>arachne.core.dsl</span></div></a></li><li class="depth-1 "><a href="arachne.core.runtime.html"><div class="inner"><span>arachne.core.runtime</span></div></a></li><li class="depth-1 current"><a href="arachne.error.html"><div class="inner"><span>arachne.error</span></div></a></li><li class="depth-1 "><a href="arachne.http.html"><div class="inner"><span>arachne.http</span></div></a></li><li class="depth-1 "><a href="arachne.http.config.html"><div class="inner"><span>arachne.http.config</span></div></a></li><li class="depth-1 "><a href="arachne.http.dsl.html"><div class="inner"><span>arachne.http.dsl</span></div></a></li><li class="depth-1 "><a href="arachne.http.dsl.test.html"><div class="inner"><span>arachne.http.dsl.test</span></div></a></li><li class="depth-1 "><a href="arachne.log.html"><div class="inner"><span>arachne.log</span></div></a></li><li class="depth-1 "><a href="arachne.pedestal.html"><div class="inner"><span>arachne.pedestal</span></div></a></li><li class="depth-1 "><a href="arachne.pedestal.dsl.html"><div class="inner"><span>arachne.pedestal.dsl</span></div></a></li><li class="depth-1 "><a href="arachne.run.html"><div class="inner"><span>arachne.run</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="arachne.error.html#var-*default-explain-opts*"><div class="inner"><span>*default-explain-opts*</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-*print-exception*"><div class="inner"><span>*print-exception*</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-arachne-ex"><div class="inner"><span>arachne-ex</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-assert"><div class="inner"><span>assert</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-assert-args"><div class="inner"><span>assert-args</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-bullet-list"><div class="inner"><span>bullet-list</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-deferror"><div class="inner"><span>deferror</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-error"><div class="inner"><span>error</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-error-registry"><div class="inner"><span>error-registry</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-error-type.3F"><div class="inner"><span>error-type?</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-explain"><div class="inner"><span>explain</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-format-date"><div class="inner"><span>format-date</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-log-error"><div class="inner"><span>log-error</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-utc-date-format"><div class="inner"><span>utc-date-format</span></div></a></li><li class="depth-1"><a href="arachne.error.html#var-wrap-error"><div class="inner"><span>wrap-error</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">arachne.error</h1><div class="doc"><pre class="plaintext">Tools for creating, throwing, catching and printing useful error messages in
a standardized way. See ADR-13.</pre></div><div class="public anchor" id="var-*default-explain-opts*"><h3>*default-explain-opts*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-*print-exception*"><h3>*print-exception*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">exception printer used for logging (among other things)
</pre></div></div><div class="public anchor" id="var-arachne-ex"><h3>arachne-ex</h3><div class="usage"><code>(arachne-ex key ex-data)</code><code>(arachne-ex key ex-data cause)</code></div><div class="doc"><pre class="plaintext">Construct an ArachneException for use by `log-error` or `error`
</pre></div></div><div class="public anchor" id="var-assert"><h3>assert</h3><div class="usage"><code>(assert spec data error-type ex-data)</code></div><div class="doc"><pre class="plaintext">Assert the given data against the given spec, throwing the specified error
and ex-data if validation fails.</pre></div></div><div class="public anchor" id="var-assert-args"><h3>assert-args</h3><div class="usage"><code>(assert-args fn-sym &amp; args)</code></div><div class="doc"><pre class="plaintext">Given a fully qualified symbol naming a function and some number of
arguments, assert that the arguments are valid according to the spec
attached to the function. If not, throw an ArachneException with an
explanation.</pre></div></div><div class="public anchor" id="var-bullet-list"><h3>bullet-list</h3><div class="usage"><code>(bullet-list items)</code></div><div class="doc"><pre class="plaintext">Format a sequence of items into a string containing a series of bullet points
</pre></div></div><div class="public anchor" id="var-deferror"><h3>deferror</h3><div class="usage"><code>(deferror type &amp; kwargs)</code></div><div class="doc"><pre class="plaintext">Add an error message to the error message registry
</pre></div></div><div class="public anchor" id="var-error"><h3>error</h3><h4 class="type">macro</h4><div class="usage"><code>(error &amp; [msg ex-data cause])</code></div><div class="doc"><pre class="plaintext">Throw an ex-info with the given error message lookup key, optional cause, and
ex-data map. The message string may contain :keywords which will be replaced
by their corresponding values from the ex-data, if present.

This is implemented as a macro so as to not show up in stack traces.</pre></div></div><div class="public anchor" id="var-error-registry"><h3>error-registry</h3><div class="usage"></div><div class="doc"><pre class="plaintext">global registry of Arachne error types and associated data
</pre></div></div><div class="public anchor" id="var-error-type.3F"><h3>error-type?</h3><div class="usage"><code>(error-type? exception type)</code></div><div class="doc"><pre class="plaintext">Helper function to determine if an error is of the given type. Type may be a
class or a value of :arachne.error/type</pre></div></div><div class="public anchor" id="var-explain"><h3>explain</h3><div class="usage"><code>(explain)</code><code>(explain e &amp; {:as opts})</code></div><div class="doc"><pre class="plaintext">Print a pretty, formatted explanation of the most recent error to stdout.

Options are:

:color - use rudimentary ANSI color in the output (default true).
:suggestions - Show any suggestions in the error (default true).
:ex-data-summary - Show a table of the keys available in the exception's ex-data (default true)
:cause - Show the exception's cause (default true)
:stacktrace - Print a stacktrace for the exception (default true)
:pretty-stacktrace - Print a stacktrace for the exception, formatted using io.aviso/pretty (default false)

You can also set the default values for these options by binding or resetting
arachne.error/*default-explain-opts*</pre></div></div><div class="public anchor" id="var-format-date"><h3>format-date</h3><div class="usage"><code>(format-date date)</code></div><div class="doc"><pre class="plaintext">Convert a java.util.Date to a human-readable UTC string
</pre></div></div><div class="public anchor" id="var-log-error"><h3>log-error</h3><h4 class="type">macro</h4><div class="usage"><code>(log-error &amp; [msg ex-data cause])</code></div><div class="doc"><pre class="plaintext">Log (but do not throw) an error message lookup using the specified error
message key, optional cause, and ex-data map. The message string may contain
:keywords which will be replaced by their corresponding values from the
ex-data, if present.

This is implemented as a macro so as to not show up in stack traces.</pre></div></div><div class="public anchor" id="var-utc-date-format"><h3>utc-date-format</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Common UTC SimpleDateFormat to be used when reporting timestamps
</pre></div></div><div class="public anchor" id="var-wrap-error"><h3>wrap-error</h3><h4 class="type">macro</h4><div class="usage"><code>(wrap-error body types throw-type ex-data)</code></div><div class="doc"><pre class="plaintext">Utility to catch and re-throw errors with a more specific message.

Evaluates the body expression. If an exception is thrown, and it is one of the
type specified by `types`, then throw an ArachneException of the specified
type and ex-data.

Types may be either an exception class, or a value of :arachne.error/type in
an ArachneException.</pre></div></div></div></body></html>